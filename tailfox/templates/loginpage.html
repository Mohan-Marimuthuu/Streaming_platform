<!DOCTYPE html>
<html>
<head>
  {% load static %}
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Anime Streaming Login</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap');

    /* ---------------- BODY ---------------- */
    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      background: url("{% static 'Images/your_anime_background.gif' %}") center/cover no-repeat fixed;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    /* ---------------- LOGIN CARD ---------------- */
    .login-card {
      width: 100%;
      max-width: 400px;
      padding: 30px;
      border-radius: 20px;
      background: rgba(15,15,35,0.75);
      backdrop-filter: blur(15px);
      box-shadow: 
        0 0 25px rgba(0,255,255,0.3),
        0 0 60px rgba(255,0,255,0.2),
        inset 0 0 0 1px rgba(255,255,255,0.1);
      transform-style: preserve-3d;
      animation: float 5s ease-in-out infinite;
      z-index: 2;
    }

    @keyframes float {
      0% { transform: translateY(0px) rotateX(0deg); }
      50% { transform: translateY(-8px) rotateX(3deg); }
      100% { transform: translateY(0px) rotateX(0deg); }
    }

    h1 {
      text-align: center;
      font-size: 32px;
      background: linear-gradient(90deg,#00eaff,#ff5cff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 15px rgba(255,255,255,0.3);
      margin-bottom: 20px;
    }

    input[type=text], input[type=password] {
      width: 100%;
      padding: 14px;
      margin: 10px 0;
      border-radius: 12px;
      border: none;
      outline: none;
      font-size: 15px;
      background: rgba(0,0,0,0.5);
      color: white;
      box-shadow: inset 0 0 10px rgba(0,255,255,0.3);
      transition: 0.3s;
    }

    input:focus {
      box-shadow: 0 0 15px cyan, inset 0 0 15px cyan;
    }

    button {
      width: 100%;
      padding: 14px;
      border-radius: 30px;
      border: none;
      background: linear-gradient(135deg,#00ffe7,#ff00cc);
      color: black;
      font-weight: 700;
      letter-spacing: 1px;
      cursor: pointer;
      box-shadow: 0 10px 25px rgba(255,0,255,0.4);
      transition: 0.3s;
    }

    button:hover {
      transform: translateY(-3px) scale(1.03);
      box-shadow: 0 0 35px #00eaff, 0 0 60px #ff00cc;
    }

    .forget {
      font-size: 16px;
      text-decoration: none;
      color: #00eaff;
      transition: 0.3s;
    }

    .forget:hover {
      color: #ff5cff;
      text-shadow: 0 0 10px #ff5cff;
    }

    .fa-close {
      position: fixed;
      top: 25px;
      right: 25px;
      color: white;
      font-size: 26px;
      text-shadow: 0 0 15px cyan;
      z-index: 3;
    }

    #Usernamelog, #passwordlog {
      color: #ff5c5c;
      font-size: 13px;
      text-shadow: 0 0 8px red;
    }

    /* 3D tilt effect */
    .login-card:hover {
      transform: scale(1.02);
      box-shadow: 0 0 40px #00eaff, 0 0 60px #ff00cc;
    }

  </style>
</head>
<body>

  <!-- CLOSE BUTTON -->
  <a href="{% url 'index' %}"><i class="fa fa-close"></i></a>

  <!-- LOGIN FORM -->
  <div class="login-card">
    <form method="POST" autocomplete="off">
      {% csrf_token %}
      <h1>Login</h1>

      <label><b>Username</b></label>
      <input type="text" id="Usernametext" placeholder="Enter Username" name="usernamelog">
      <p id="Usernamelog"></p>

      <label><b>Password</b></label>
      <input type="password" id="passwordtext" placeholder="Enter Password" name="password">
      <p id="passwordlog"></p>

      <div style="text-align:center; margin-top:15px;">
        <a href="" class="forget">Forget</a>
        <span style="color:white;"> | </span>
        <a href="{% url 'account' %}" class="forget">Create Account</a>
      </div>

      <br>
      <label style="color:white;">
        <input type="checkbox" name="remember"> Remember me
      </label>
      <br><br>

      <button type="submit" onclick="loginfunction()">Login</button>
    </form>
  </div>

  <!-- ---------------- JAVASCRIPT ---------------- -->

  <script>
document.querySelector("form").addEventListener("submit", function(event){
    event.preventDefault(); // prevent form submission

    const usernameMsg = document.getElementById("Usernamelog");
    const passwordMsg = document.getElementById("passwordlog");
    usernameMsg.innerHTML = "";
    passwordMsg.innerHTML = "";

    let username = document.getElementById("Usernametext").value.trim();
    let password = document.getElementById("passwordtext").value.trim();

    let error = false;

    if(username === "") {
        usernameMsg.innerHTML = "Enter your username";
        error = true;
    }

    if(password === "") {
        passwordMsg.innerHTML = "Enter your password";
        error = true;
    }

    if(!error){
        // submit form normally to Django backend
        this.submit();
    }
});
</script> 

  <script>
   

    // 3D tilt effect on mouse move
    const card = document.querySelector('.login-card');
    document.addEventListener('mousemove', (e) => {
      const x = (window.innerWidth / 2 - e.pageX) / 25;
      const y = (window.innerHeight / 2 - e.pageY) / 25;
      card.style.transform = `rotateY(${-x}deg) rotateX(${y}deg) scale(1.02)`;
    });
    document.addEventListener('mouseleave', () => {
      card.style.transform = 'rotateY(0deg) rotateX(0deg)';
    });
  </script>
</body>
</html>
